<template>
  <header class="navbar">
    <Container style="display: flex; align-items: center;">
      <div class="left-part">
        <span id="open-sidebar" class="menuicon">
          <svg width="30px" height="30px" xmlns="http://www.w3.org/2000/svg" fill="#fff" viewBox="0 0 24 24"
            stroke-width="2" stroke="#fff" aria-hidden="true" style="
                                      /* fill: #fff; */
                                  ">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </span>
        <router-link to="/" class="logo">
          <svg style="margin-bottom: 8px;" xmlns="http://www.w3.org/2000/svg" version="1.0" width="100%" height="100%"
            viewBox="0 0 1418.000000 500.000000" preserveAspectRatio="xMidYMid meet">

            <g transform="translate(0.000000,500.000000) scale(0.100000,-0.100000)" fill="currentColor" stroke="none">
              <path fill="#fdcc06"
                d="M12908 4237 c-104 -39 -181 -109 -228 -209 -87 -183 -13 -399 172 -499 61 -33 66 -34 178 -34 107 0 119 2 175 29 76 38 143 105 181 181 26 55 29 69 29 165 0 96 -2 110 -30 165 -37 75 -107 145 -182 182 -50 24 -71 28 -158 31 -65 1 -113 -3 -137 -11z" />
              <path
                d="M4962 3787 l-32 -33 0 -503 0 -503 -31 26 c-45 38 -134 88 -221 124 -438 182 -1013 44 -1293 -311 -118 -148 -198 -342 -231 -562 -22 -137 -14 -424 14 -545 82 -348 271 -600 561 -744 147 -74 279 -110 459 -125 277 -25 527 39 699 179 43 34 63 45 66 36 3 -7 9 -50 12 -95 l8 -81 281 0 282 0 27 28 27 28 0 1529 0 1529 -27 28 -27 28 -271 0 -271 0 -32 -33z m-479 -1452 c87 -23 174 -71 239 -132 72 -69 113 -132 146 -225 33 -94 37 -258 8 -352 -62 -207 -213 -348 -419 -390 -94 -20 -142 -20 -232 -1 -206 44 -366 204 -416 415 -17 75 -15 222 5 298 27 107 64 171 140 248 109 108 217 152 381 153 50 1 116 -6 148 -14z" />
              <path
                d="M8737 3792 l-27 -28 0 -1525 0 -1525 33 -32 33 -32 265 0 265 0 27 28 27 28 2 403 3 402 373 -430 374 -431 337 0 337 0 27 28 c20 21 27 38 27 69 0 41 -10 52 -480 568 -264 290 -480 531 -480 535 0 5 189 219 420 477 380 424 420 471 420 502 0 24 -8 43 -27 63 l-27 28 -337 0 -338 0 -313 -372 -313 -373 -3 795 -2 794 -27 28 -27 28 -271 0 -271 0 -27 -28z" />
              <path fill="#fdcc06"
                d="M12168 3737 c-66 -19 -123 -60 -152 -109 -24 -41 -48 -116 -48 -148 1 -40 27 -115 55 -157 97 -145 347 -145 444 0 91 135 49 321 -87 389 -66 34 -147 43 -212 25z" />
              <path
                d="M1502 2978 c-101 -12 -244 -50 -333 -87 -254 -106 -474 -326 -580 -580 -77 -185 -111 -424 -91 -639 40 -443 245 -765 601 -942 418 -210 1031 -173 1427 85 91 59 214 169 214 191 0 7 -85 95 -190 195 l-189 183 -47 -3 c-34 -2 -57 -11 -83 -31 -50 -41 -170 -94 -271 -121 -111 -30 -320 -33 -419 -5 -95 26 -185 73 -240 126 -47 45 -111 141 -111 168 0 9 171 12 824 12 l823 0 6 68 c11 116 7 343 -8 447 -79 548 -407 869 -955 935 -100 12 -275 11 -378 -2z m369 -602 c135 -29 255 -117 299 -222 11 -25 20 -48 20 -50 0 -2 -220 -4 -490 -4 -269 0 -490 4 -490 8 0 4 13 28 28 53 64 98 187 184 310 213 75 19 240 19 323 2z" />
              <path
                d="M11916 2954 c-138 -21 -232 -50 -351 -108 -131 -65 -217 -128 -311 -229 -122 -133 -209 -304 -256 -506 -28 -122 -36 -427 -14 -566 41 -272 140 -481 305 -646 205 -205 480 -310 811 -311 240 -1 470 77 621 211 52 46 59 42 59 -32 0 -23 3 -59 6 -80 l7 -37 276 0 277 0 32 33 32 33 0 1075 0 1075 -28 27 -28 27 -286 0 -285 0 -7 -52 c-3 -29 -6 -70 -6 -91 l0 -38 -57 44 c-82 62 -139 93 -232 127 -160 59 -368 75 -565 44z m419 -599 c319 -81 489 -427 381 -771 -63 -198 -204 -327 -407 -370 -177 -38 -394 21 -517 139 -224 216 -224 651 0 867 67 66 173 120 273 140 68 13 208 11 270 -5z" />
              <path
                d="M6047 2892 l-27 -28 0 -650 c0 -701 2 -735 55 -919 89 -308 308 -545 585 -633 100 -32 173 -42 311 -42 230 0 378 44 561 166 l107 72 6 -42 c3 -22 9 -68 13 -101 l7 -60 264 -3 265 -2 33 32 33 32 0 1075 0 1075 -27 28 -27 28 -270 0 -270 0 -28 -27 -28 -27 0 -552 c0 -341 -4 -582 -11 -630 -42 -305 -273 -498 -547 -456 -150 23 -262 105 -323 237 -55 117 -58 162 -59 809 l0 590 -27 28 -27 28 -271 0 -271 0 -27 -28z" />
            </g>
          </svg>
        </router-link>

        <ul class="menu">
          <li class="item">
            <router-link to="/" :class="this.$route.path == '/' ? 'active' : 'nav-link'">
              Soluções
            </router-link>
          </li>
          <li class="item">
            <router-link to="/categories" :class="this.$route.path == '/categories' ? 'active' : 'nav-link'">
              Carteira
            </router-link>
          </li>
          <li class="item">
            <router-link to="/marketplace" :class="this.$route.path == '/marketplace' ? 'active' : 'nav-link'">
              Cursos
            </router-link>
          </li>
          <li class="item">
            <router-link to="/epanel" :class="this.$route.path == '/marketplace' ? 'active' : 'nav-link'">
              Suporte
            </router-link>
          </li>

        </ul>
      </div>
      <div class="right-part">
        <div v-if="true" class="btns">
          <a href="/account/signin" id="signin" style="color: #666;
                    background-color: rgba(0,0,0,.06); margin-right: 12px;">Entrar</a>
          <router-link to="/account/signup" style="background-color: var(--primary);
                        background-color: var(--primary);
                        background-image: none;
                        color: rgb(78 51 7);
                        border: 1px solid transparent;">

            Criar conta
          </router-link>
        </div>
      </div>
    </Container>
  </header>
</template>

<script>
//import { api } from "@/api";
import Container from "./Container.vue";
import { mapState } from "vuex";

export default {
  name: "Navbar",
  components: {
    Container
  },
  computed: {
    ...mapState(["users"]),
  },
  created() {
  },
  mounted() {

    const btn = document.querySelector("#open-sidebar")
    const sidebar = document.querySelector("#sidebar");

    btn.addEventListener("click", () => {
      const body = document.querySelector("body")
      sidebar.classList.add("show")
      body.classList.add("o-h")
    })

    const btnOpenSearch = document.querySelector("#btnOpenSearch")
    btnOpenSearch.addEventListener("click", () => {
      const search = document.querySelector("#searchGlobal")
      const inputSearchGlobal = document.querySelector("#inputSearchGlobal")
      search.classList.add("d-flex")
      inputSearchGlobal.focus()
      inputSearchGlobal.value = ""
    })
  },
  methods: {
    openModal(type) {
      this.$store.dispatch("actionSetModal", {
        name: "auth",
        tab: type,
        option: 1,
      })
    }
  },
};
</script>

<style scoped>
.navbar {
  display: flex;
  z-index: 1111;
  flex-wrap: wrap;
  align-items: center;
  min-height: 70px;
  width: 100%;
  justify-content: center;
  transition: transform .25s ease-in-out;
  background-color: #ffffff !important;
  border-bottom: 1px solid #e7e7e7;
  box-sizing: border-box;
}

#open-sidebar {
  display: none;
  margin-right: 8px;
}

.search--icon {
  display: none;
}

.auth-mobile {
  visibility: hidden;
}

.navbar .left-part {
  display: flex;
  flex-direction: row;
  align-items: center;
  height: 100%;
}

.navbar .right-part {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  height: 100%;
  width: 100%;
}

.logo {
  position: relative;
  display: flex;
  width: 100px;
  height: 50px;
  align-items: center;
  text-decoration: none;
  background-color: transparent;
  background-position: 0.25rem -94px;
  color: #042c34;
  margin-right: 8px;
  transition: all .25s ease;
}

.logo:hover {
  transition: all .25s ease;
  color: var(--primary);
}

.dropdown-child {
  display: none;
}

.menu {
  display: flex;
  position: relative;
  flex-direction: row;
  align-items: center;
  list-style: none;
  box-sizing: border-box;
}

.menu .item {
  position: relative;
}

.menu .item a,
button {
  position: relative;
  display: flex;
  align-items: center;
  height: 56px;
  margin: 0 1rem;
  padding: 0;
  font-size: 15px;
  font-weight: 400;
  background-color: transparent;
  border: none;
  color: #666;
  text-decoration: none;
  font-family: inherit;
  transition: all .25s ease;
  margin-bottom: 3px;
}

.item .btn-open-dropdown:hover {
  color: var(--primary);
}

.menu a:hover {
  transition: all .25s ease;
  color: var(--primary);
}

.btns {
  display: flex;
  align-items: center;
}

.item a {
  display: block;
  height: 100%;
}

.btns a {
  display: inline-block;
  font-weight: 400;
  line-height: 1.5;
  color: #212529;
  text-align: center;
  text-decoration: none;
  vertical-align: middle;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  background-color: transparent;
  border: 1px solid transparent;
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  font-weight: 500;
  text-decoration: none;
  transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
  box-shadow: 0 0 #0000, 0 0 #0000, 0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgb(0 0 0 / .05);
}

.icon i {
  color: #fff;
  font-size: 1.2rem;
}

.menu-icons {
  display: flex;
  align-items: center;
  list-style: none;
  height: 56px;
}

.menu-icons li {
  height: 100%;
}

.menu-icons li a,
button {
  position: relative;
  display: flex;
  height: 100%;
  align-items: center;
  padding: 0 8px;
  background-color: transparent;
  border: none;
}

@media (max-width: 414px) {
  .menu {
    display: none;
  }

  #signup {
    display: none;
  }

  #open-sidebar {
    display: flex;
  }

  .search--icon {
    display: block;
  }

  .icon i {
    font-size: 1.38rem;
  }

  #signin {
    padding: 0 8px;
    margin-left: 8px !important;
    font-size: 15px;
    margin-top: -3px !important;
  }
}

@media (max-width: 320px) {
  .menu {
    display: none;
  }

  #signup {
    display: none;
  }

  #open-sidebar {
    display: flex;
  }

  .icon i {
    font-size: 1.38rem;
  }

  .search--icon {
    display: block;
  }

  #signin {
    padding: 0 8px;
    margin-left: 8px !important;
    font-size: 15px;
    margin-top: -3px !important;
  }
}
</style>